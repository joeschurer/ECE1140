<pre><tt><font color="#000000">001: </font><i><font color="#9A1900">/**</font></i>
<font color="#000000">002: </font><i><font color="#9A1900">   A mailbox contains messages that can be listed, kept or discarded.</font></i>
<font color="#000000">003: </font><i><font color="#9A1900">*/</font></i>
<font color="#000000">004: </font><b><font color="#0000FF">public</font></b> <b><font color="#0000FF">class</font></b> Mailbox
<font color="#000000">005: </font><font color="#FF0000">{</font>
<font color="#000000">006: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">007: </font><i><font color="#9A1900">      Creates Mailbox object.</font></i>
<font color="#000000">008: </font><i><font color="#9A1900">      @param aPasscode passcode number</font></i>
<font color="#000000">009: </font><i><font color="#9A1900">      @param aGreeting greeting string</font></i>
<font color="#000000">010: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">011: </font>   <b><font color="#0000FF">public</font></b> <b><font color="#000000">Mailbox</font></b><font color="#990000">(</font>String aPasscode<font color="#990000">,</font> String aGreeting<font color="#990000">)</font>
<font color="#000000">012: </font>   <font color="#FF0000">{</font>
<font color="#000000">013: </font>      passcode <font color="#990000">=</font> aPasscode<font color="#990000">;</font>
<font color="#000000">014: </font>      greeting <font color="#990000">=</font> aGreeting<font color="#990000">;</font>
<font color="#000000">015: </font>      newMessages <font color="#990000">=</font> <b><font color="#0000FF">new</font></b> <b><font color="#000000">MessageQueue</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">016: </font>      keptMessages <font color="#990000">=</font> <b><font color="#0000FF">new</font></b> <b><font color="#000000">MessageQueue</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">017: </font>   <font color="#FF0000">}</font>
<font color="#000000">018: </font>
<font color="#000000">019: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">020: </font><i><font color="#9A1900">      Check if the passcode is correct.</font></i>
<font color="#000000">021: </font><i><font color="#9A1900">      @param aPasscode a passcode to check</font></i>
<font color="#000000">022: </font><i><font color="#9A1900">      @return true if the supplied passcode matches the mailbox passcode</font></i>
<font color="#000000">023: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">024: </font>   <b><font color="#0000FF">public</font></b> <font color="#009900">boolean</font> <b><font color="#000000">checkPasscode</font></b><font color="#990000">(</font>String aPasscode<font color="#990000">)</font>
<font color="#000000">025: </font>   <font color="#FF0000">{</font>
<font color="#000000">026: </font>      <b><font color="#0000FF">return</font></b> aPasscode<font color="#990000">.</font><b><font color="#000000">equals</font></b><font color="#990000">(</font>passcode<font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">027: </font>   <font color="#FF0000">}</font>
<font color="#000000">028: </font>
<font color="#000000">029: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">030: </font><i><font color="#9A1900">      Add a message to the mailbox.</font></i>
<font color="#000000">031: </font><i><font color="#9A1900">      @param aMessage the message to be added</font></i>
<font color="#000000">032: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">033: </font>   <b><font color="#0000FF">public</font></b> <font color="#009900">void</font> <b><font color="#000000">addMessage</font></b><font color="#990000">(</font>Message aMessage<font color="#990000">)</font>
<font color="#000000">034: </font>   <font color="#FF0000">{</font>
<font color="#000000">035: </font>      newMessages<font color="#990000">.</font><b><font color="#000000">add</font></b><font color="#990000">(</font>aMessage<font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">036: </font>   <font color="#FF0000">}</font>
<font color="#000000">037: </font>
<font color="#000000">038: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">039: </font><i><font color="#9A1900">      Get the current message.</font></i>
<font color="#000000">040: </font><i><font color="#9A1900">      @return the current message</font></i>
<font color="#000000">041: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">042: </font>   <b><font color="#0000FF">public</font></b> Message <b><font color="#000000">getCurrentMessage</font></b><font color="#990000">(</font><font color="#990000">)</font>
<font color="#000000">043: </font>   <font color="#FF0000">{</font>
<font color="#000000">044: </font>      <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>newMessages<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&gt;</font> <font color="#993399">0</font><font color="#990000">)</font>
<font color="#000000">045: </font>         <b><font color="#0000FF">return</font></b> newMessages<font color="#990000">.</font><b><font color="#000000">peek</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">046: </font>      <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>keptMessages<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&gt;</font> <font color="#993399">0</font><font color="#990000">)</font>
<font color="#000000">047: </font>         <b><font color="#0000FF">return</font></b> keptMessages<font color="#990000">.</font><b><font color="#000000">peek</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">048: </font>      <b><font color="#0000FF">else</font></b>
<font color="#000000">049: </font>         <b><font color="#0000FF">return</font></b> <b><font color="#0000FF">null</font></b><font color="#990000">;</font>
<font color="#000000">050: </font>   <font color="#FF0000">}</font>
<font color="#000000">051: </font>
<font color="#000000">052: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">053: </font><i><font color="#9A1900">      Remove the current message from the mailbox.</font></i>
<font color="#000000">054: </font><i><font color="#9A1900">      @return the message that has just been removed</font></i>
<font color="#000000">055: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">056: </font>   <b><font color="#0000FF">public</font></b> Message <b><font color="#000000">removeCurrentMessage</font></b><font color="#990000">(</font><font color="#990000">)</font>
<font color="#000000">057: </font>   <font color="#FF0000">{</font>
<font color="#000000">058: </font>      <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>newMessages<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&gt;</font> <font color="#993399">0</font><font color="#990000">)</font>
<font color="#000000">059: </font>         <b><font color="#0000FF">return</font></b> newMessages<font color="#990000">.</font><b><font color="#000000">remove</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">060: </font>      <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>keptMessages<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&gt;</font> <font color="#993399">0</font><font color="#990000">)</font>
<font color="#000000">061: </font>         <b><font color="#0000FF">return</font></b> keptMessages<font color="#990000">.</font><b><font color="#000000">remove</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">062: </font>      <b><font color="#0000FF">else</font></b>
<font color="#000000">063: </font>         <b><font color="#0000FF">return</font></b> <b><font color="#0000FF">null</font></b><font color="#990000">;</font>
<font color="#000000">064: </font>   <font color="#FF0000">}</font>
<font color="#000000">065: </font>
<font color="#000000">066: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">067: </font><i><font color="#9A1900">      Save the current message</font></i>
<font color="#000000">068: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">069: </font>   <b><font color="#0000FF">public</font></b> <font color="#009900">void</font> <b><font color="#000000">saveCurrentMessage</font></b><font color="#990000">(</font><font color="#990000">)</font>
<font color="#000000">070: </font>   <font color="#FF0000">{</font>
<font color="#000000">071: </font>      Message m <font color="#990000">=</font> <b><font color="#000000">removeCurrentMessage</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">072: </font>      <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>m <font color="#990000">!</font><font color="#990000">=</font> <b><font color="#0000FF">null</font></b><font color="#990000">)</font>
<font color="#000000">073: </font>         keptMessages<font color="#990000">.</font><b><font color="#000000">add</font></b><font color="#990000">(</font>m<font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">074: </font>   <font color="#FF0000">}</font>
<font color="#000000">075: </font>
<font color="#000000">076: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">077: </font><i><font color="#9A1900">      Change mailbox's greeting.</font></i>
<font color="#000000">078: </font><i><font color="#9A1900">      @param newGreeting the new greeting string</font></i>
<font color="#000000">079: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">080: </font>   <b><font color="#0000FF">public</font></b> <font color="#009900">void</font> <b><font color="#000000">setGreeting</font></b><font color="#990000">(</font>String newGreeting<font color="#990000">)</font>
<font color="#000000">081: </font>   <font color="#FF0000">{</font>
<font color="#000000">082: </font>      greeting <font color="#990000">=</font> newGreeting<font color="#990000">;</font>
<font color="#000000">083: </font>   <font color="#FF0000">}</font>
<font color="#000000">084: </font>
<font color="#000000">085: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">086: </font><i><font color="#9A1900">      Change mailbox's passcode.</font></i>
<font color="#000000">087: </font><i><font color="#9A1900">      @param newPasscode the new passcode</font></i>
<font color="#000000">088: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">089: </font>   <b><font color="#0000FF">public</font></b> <font color="#009900">void</font> <b><font color="#000000">setPasscode</font></b><font color="#990000">(</font>String newPasscode<font color="#990000">)</font>
<font color="#000000">090: </font>   <font color="#FF0000">{</font>
<font color="#000000">091: </font>      passcode <font color="#990000">=</font> newPasscode<font color="#990000">;</font>
<font color="#000000">092: </font>   <font color="#FF0000">}</font>
<font color="#000000">093: </font>
<font color="#000000">094: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">095: </font><i><font color="#9A1900">      Get the mailbox's greeting.</font></i>
<font color="#000000">096: </font><i><font color="#9A1900">      @return the greeting</font></i>
<font color="#000000">097: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">098: </font>   <b><font color="#0000FF">public</font></b> String <b><font color="#000000">getGreeting</font></b><font color="#990000">(</font><font color="#990000">)</font>
<font color="#000000">099: </font>   <font color="#FF0000">{</font>
<font color="#000000">100: </font>      <b><font color="#0000FF">return</font></b> greeting<font color="#990000">;</font>
<font color="#000000">101: </font>   <font color="#FF0000">}</font>
<font color="#000000">102: </font>
<font color="#000000">103: </font>   <b><font color="#0000FF">private</font></b> MessageQueue newMessages<font color="#990000">;</font>
<font color="#000000">104: </font>   <b><font color="#0000FF">private</font></b> MessageQueue keptMessages<font color="#990000">;</font>
<font color="#000000">105: </font>   <b><font color="#0000FF">private</font></b> String greeting<font color="#990000">;</font>
<font color="#000000">106: </font>   <b><font color="#0000FF">private</font></b> String passcode<font color="#990000">;</font>
<font color="#000000">107: </font><font color="#FF0000">}</font>
</tt></pre>
